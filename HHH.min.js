for(c.width=c.height=W=510,a.font="3em m",z=j=20,f=255,n=k=v=u=i=I=0,T=10,l=[],o=[],p=Math,q=2*p.PI,r=p.random,s=p.sqrt,t=p.abs,Q=p.ceil,P=p.pow,onkeyup=onkeydown=function(d){32==d.which&&(o[0][0]=d.type[5]?1:-1)},A=function(d,b,g,e,W){with(a)e&&(fillStyle="#"+"0ff0f00900fff".substr(e-1,3)),W?fillText(d,b,g):(beginPath(),arc(d,b,g,q,0,0),fill());return A},Z=function(d,b,g,e,w){15<(b+=d)?b=15:0>b&&(b=0);k=8*b-f;b%15||(d=b&&j?-1:0);for(u=0;n=l[u++];)if(1^n){if(!j){v=40<s(P(n.x-f,2)+P(n.y-f,2))?-0.15:
0.4;n.x+=n.a+=v*(n.x>f?1:-1)/2-1.0E-4;n.y+=n.b+=v*(n.y>f?1:-1)/2;A(n.x,n.y,z,11)}t(n.x-f-g*(k+55))<25&&40>t(n.y-(f+e*(k+55)))&&(d+1?(n.a=g*3||n.a)&&(n.b=e*3||n.b):(1^n&&w++,l[u-1]=1))}A(f+g*(k+75),f+e*(k+75),45,j+1)(f+g*(k+30),f+e*(k+30),65)(w,f+g*(k+50),f+e*(k+50),11,1);return arguments};--j+1;)l.push({x:99+300*r(),y:99+300*r(),a:0,b:0})&&4>j&&o.push([0,0,j&&2-j,3-j&&1-j,0]);setInterval(function(){A(f,f,2*W,8)(f,f,250,5);for(j=0,I=Q(99*r());i=o[j];j++)o[j]=Z.apply(c,i);o[I]&&I&&(o[I][0]=1)},15);