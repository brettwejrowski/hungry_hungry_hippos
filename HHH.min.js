for(c.width=c.height=W=510,a.font="3em m",z=20,f=255,n=k=v=u=i=I=0,j=T=11,l=[],o=[],p=Math,q=2*p.PI,r=p.random,s=p.sqrt,t=p.abs,Q=p.ceil,onkeyup=onkeydown=function(d){32==d.which&&(o[0][0]=d.type[5]?1:-1)},A=function(d,b,g,e){with(a)e&&(a.fillStyle="0ff0f00900fff".substr(e-1,3)),beginPath(),arc(d,b,g,0,q,!0),fill();return A},Z=function(d,b,g,e,w){k=8*(b+=d)-f;!(b%15)?d=b&&j?-1:0:15<b?b=15:0>b&&(b=0);for(u=0;n=l[u++];)if(1!=n){if(!j){var h=n.x,m=n.y,h=t(h-f),m=t(m-f),h=s(h*h+m*m);v=40<
h?-0.15:0.4;n.x+=n.a+=0.5*v*(n.x>f?1:-1);n.y+=n.b+=0.5*v*(n.y>f?1:-1);A(n.x,n.y,z,11)}-1==d&&t(n.x-f-g*(k+55))<z&&45>t(n.y-(f+e*(k+55)))&&(1!=n&&w++,l[u-1]=1)}A(f+g*(k+75),f+e*(k+75),35,j+1)(f+g*(k+30),f+e*(k+30),55);a.fillStyle="#fff";a.fillText(w,f+g*k,f+e*k);return arguments};--j+1;)l.push({x:60+350*r(),y:60+350*r(),a:0,b:0})&&4>j&&o.push([0,0,j&&2-j,3-j&&1-j,0]);setInterval(function(){A(f,f,2*W,8)(f,f,250,5);for(j=0,I=Q(99*r());i=o[j];j++)o[j]=Z.apply(c,i);o[I]&&I&&(o[I][0]=1)},15)