for(c.width=c.height=W=510,a.font="3em m",z=j=20,f=255,n=k=v=u=i=I=0,T=10,l=[],o=[],p=Math,q=2*p.PI,r=p.random,s=p.sqrt,t=p.abs,Q=p.ceil,P=p.pow,onkeyup=onkeydown=function(d){32==d.which&&(o[0][0]=d.type[5]?1:-1)},A=function(d,b,e,g,h){with(a)g&&(fillStyle="0ff0f00900fff".substr(g-1,3)),h?fillText(d,b,e):(beginPath(),arc(d,b,e,0,q,!0),fill());return A},Z=function(d,b,e,g,h){15<(b+=d)?b=15:0>b&&(b=0);k=8*b-f;b%15||(d=b&&j?-1:0);for(u=0;n=l[u++];)1!=n&&(j||(v=40<s(P(n.x-f,2)+P(n.y-f,2))?-0.15:0.4,n.x+=
n.a+=0.5*v*(n.x>f?1:-1)-1.0E-4,n.y+=n.b+=0.5*v*(n.y>f?1:-1),A(n.x,n.y,z,11)),25>t(n.x-f-e*(k+55))&&40>t(n.y-(f+g*(k+55)))&&-1==d?(1!=n&&h++,l[u-1]=1):(n.a*=-1)&&(n.b*=-1));A(f+e*(k+75),f+g*(k+75),45,j+1)(f+e*(k+30),f+g*(k+30),65)(h,f+e*(k+50),f+g*(k+50),11,1);return arguments};--j+1;)l.push({x:60+350*r(),y:60+350*r(),a:0,b:0})&&4>j&&o.push([0,0,j&&2-j,3-j&&1-j,0]);setInterval(function(){A(f,f,2*W,8)(f,f,250,5);for(j=0,I=Q(99*r());i=o[j];j++)o[j]=Z.apply(c,i);o[I]&&I&&(o[I][0]=1)},15);